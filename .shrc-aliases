# -*- sh -*-

# a function which will create the folder if it does not exist. In any case, move to it.
function mcd() {
  mkdir -p $1 && cd $1
}
alias mcd='mcd'

# some more ls aliases
alias ll='ls -lAh'
alias l='ls -CF'

alias grep='grep --color=auto'
alias fgrep='fgrep --color=auto'
alias egrep='egrep --color=auto'
alias rgrep='rgrep --color=auto'

alias wget='wget -c'

# emacs for the win
alias em='emacsclient -nw'
alias sem="SUDO_EDITOR=\"emacsclient -t -a emacs\" sudoedit"
alias emc='emacsclient -c'
alias semc="SUDO_EDITOR=\"emacsclient -c -a emacs\" sudoedit"

# vagrant

# aptitude
alias sp='aptitude search'
alias in='sudo aptitude install'

#### Alias for changing directory

# cd ..
alias cd..='cd ..'
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias .....='cd ../../../..'
alias cd.='cd .'


# aliasing to go fast inside my personal repositories (Use: cdr my-haskell-lab)
alias cdr='cd ~/repo/perso'
alias cdp='cd ~/repo/pro'

# cd ~/org
alias cdo='cd $HOME/org'

# cd ~/bin
alias cdb='cd $HOME/bin'

# cd ~/work/bin
alias cdwb='cd $HOME/work/bin'

# cd ~/.m2
alias cdm2='cd $HOME/.m2'

# cd ~/.ssh
alias cdssh='cd $HOME/.ssh'

# cd ~/repo/perso
alias cdp='cd $HOME/repo/perso'

# cd ~/repo/perso/lazyposse
alias cdl='cd $HOME/repo/perso/lazyposse'

# cd ~/repo/pro/wikeo
alias cdw='cd $HOME/repo/pro/wikeo'

alias m='make'

alias ifc='/sbin/ifconfig'

################ Git aliases

alias gitk='gitg'
alias gitka='gitg --all'
alias gitga='gitg --all'

# git status
alias gst='git status -sb'

# git commit -v
alias gci='git commit -v'

# git checkout
alias gco='git checkout'

# git branch
alias gbr='git branch'

# git diff
alias gdf='git diff --word-diff'

# pretty log
alias gl='git log --date-order --all --graph --format="%C(green)%h%Creset %C(yellow)%an%Creset %C(blue bold)%ar%Creset %C(red bold)%d%Creset%s"'
alias gl2='git log --oneline --graph --remotes --decorate --all'

# git fetch
alias gf='git fetch -p'
alias gfa='git fetch --all -p'
alias gfh="git fetch http-origin -p"

# git push
alias gpo='git push origin $(current_branch)'
alias gpu='git push upstream $(current_branch)'
alias gph='git push http-origin $(current_branch)'

alias gpurge='git branch --merged | xargs git branch -d'
alias gcob='git checkout -b'
alias gmc='git merge origin/$(current_branch)'
alias gmrc='git merge upstream/$(current_branch)'
alias glast="git last | head -1 | cut -d' ' -f2"

################ Mercurial alias

alias hgp='hg pull'
alias hgs='hg status'
alias hgd='hg diff'

################ vagrant

alias v='vagrant'
alias vgs='vagrant global-status'
alias vs='vagrant status'
alias vu='vagrant up'
alias vh='vagrant halt'
alias vsu='vagrant suspend'
alias vr='vagrant resume'

alias vsn='vagrant snapshot'
alias vsnls='vagrant snapshot list'

################ OS

alias upg="sudo aptitude update ; sudo aptitude safe-upgrade -y"

################ Haskell

alias hddck='tmp=~/tmp/haddock; [[ -d $tmp/html ]] || mkdir -p $tmp/html; base=`pwd`; haddock --html --source-module file://'$base'/%F --odir $tmp/html '

################ ssh

# --server flag to use 'Server binary outside path - http://mosh.mit.edu/#usage'
alias mosh="mosh --server=$(which mosh-server)"

################ nixos/nix functions

function nix-prefetch-file {
    nix-prefetch-url file://$1
}

function nix-where() {
    which $1 | xargs readlink | xargs dirname
}

function nix-folder() {
    nix-where $1 | xargs dirname
}

function nix-package() {
    nix-folder $1 | xargs basename | cut -d'-' -f2,3
}

function nix-ls-folder() {
    ls $(nix-folder $1)
}

function nix-tree() {
    tree $(nix-folder $1)
}

alias nix-where='nix-where'
alias nix-folder='nix-folder'
alias nix-package='nix-package'

################ tools

alias pendu='hangman -d /usr/share/dict/french'

alias xup="xrdb ~/.Xresources"
